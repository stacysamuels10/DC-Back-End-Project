<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script defer src="../js/account-info.js"></script>
    <link defer rel="stylesheet" href="../css/account-info.css" />
    <title>Account Dashboard</title>
  </head>
  <body>
    <div class="nav-bar">
      <a href="http://localhost:3000/user/home">Home</a>
      <a href="http://localhost:3000/saved_recipe/dashboard"
        >My Saved Recipes</a
      >
      <a href="http://localhost:3000/new_recipe/create-recipe">Add a Recipe</a>
      <a href="http://localhost:3000/user/account-info">My Account</a>
      <a href="" onclick="logout()">Logout</a>
    </div>
    <div class="main">
      <div class="account-info">
        <h3>Email: ${title.Email}</h3>
        <h3>Username: ${title.Username}</h3>
        <button id="update-account" onclick="accountEditRedirect(${title.id})">
          Update Account
        </button>
        <button id="delete-account">Delete Account</button>
        <div id="delete-account-div" class="delete-account-div"></div>
      </div>
      <div class="recipes-created">
        <div class="main">
          <h2>Your Recipes:</h2>
          <div class="recipes">
            ${recipe.map(NewRecipe => `
            <div class="recipe-card">
              <h2>${NewRecipe.Name}</h2>
              <div class="recipe-img">
                <a
                  href="http://localhost:3000/new_recipe/view-recipe/${NewRecipe.id}"
                  ><img
                    src="${NewRecipe.Picture}"
                    id="${NewRecipe.id}"
                    style="width: 100px; height: 80px"
                    onerror="this.src='../css/logo.png'"
                    ;
                /></a>
              </div>
              <input
                type="button"
                class="edit-recipe"
                id="${NewRecipe.id}"
                value="Edit Recipe"
                onclick="editRecipeRedirect(${NewRecipe.id})"
              />
              <input
                type="button"
                class="delete-recipe"
                id="${NewRecipe.id}"
                value="Delete Recipe"
                onclick="deleteRecipe(${NewRecipe.id})"
              />
            </div>
            `).join('')}
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
