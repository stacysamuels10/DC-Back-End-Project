<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script defer src="../js/dashboard.js"></script>
    <link defer rel="stylesheet" href="../css/dashboard.css" />
    <link
      defer
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"
    />
    <title>Your Dashboard</title>
  </head>
  <body>
    <section class="hero is-success">
      <nav class="level hero-body">
        <h1 class="level-item has-text-centered content is-large">
          Everybody's Favorite Plate
        </h1>
        <p class="level-item has-text-centered">
          <a href="http://localhost:3000/user/home" class="link is-info"
            >Home</a
          >
        </p>
        <p class="level-item has-text-centered">
          <a
            href="http://localhost:3000/saved_recipe/dashboard"
            class="link is-info"
            >My Saved Recipes</a
          >
        </p>
        <p class="level-item has-text-centered">
          <a href="http://localhost:3000/user/account-info" class="link is-info"
            >My Account</a
          >
        </p>
        <p class="level-item has-text-centered">
          <a
            href="http://localhost:3000/new_recipe/create-recipe"
            class="link is-info"
            >Add a recipe</a
          >
        </p>
        <p class="level-item has-text-centered">
          <a onclick="logout()" class="link is-info">Logout</a>
        </p>
      </nav>
    </section>
    <div class="container">
      <div class="account-info">
        <h3>Username:</h3>
        <h3>${title.Username}</h3>
        <button class="button is-rounded" id="edit-profile">
          Edit Profile
        </button>
      </div>
      <div class="saved-recipes">
        <div class="main">
          <h2>Your Saved Recipes:</h2>
          <div class="recipes is-ancestor">
            ${recipe.map(NewRecipe => `
            <div class="tile is-3 is-vertical">
              <h2>${NewRecipe.Name}</h2>
              <div class="tile">
                <a
                  href="http://localhost:3000/new_recipe/view-recipe/${NewRecipe.id}"
                  ><img
                    src="${NewRecipe.Picture}"
                    id="${NewRecipe.id}"
                    style="width: 200px; height: auto"
                    onerror="this.src='../css/logo.png'"
                    ;
                /></a>
              </div>
              <button
                type="button"
                class="unsave-recipe button is-rounded"
                id="${NewRecipe.id}"
                onclick="unsaveRecipe(${NewRecipe.id})"
              >
                Unsave Recipe
              </button>
            </div>
            `).join('')}
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
